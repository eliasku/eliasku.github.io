<!doctypehtml>
<html lang=en-us>
<head>
    <link rel="manifest" href="colorsense.webmanifest">
    <meta name=mobile-web-app-capable content=yes>
    <meta name=apple-mobile-web-app-capable content=yes>
    <meta charset=utf-8>
    <meta content="text/html; charset=utf-8" http-equiv=Content-Type>
    <meta content="width=device-width,initial-scale=1" name=viewport>
    <title>tpl</title>
    <style>body, html {
        height: 100%;
        overflow: hidden
    }

    body {
        margin: 0;
        padding: 0
    }</style>
</head>
<body>
<div id=gamecontainer style=width:100%;height:100%>
    <canvas height=600 id=gameview oncontextmenu=event.preventDefault() width=200></canvas>
</div>
<script>var Module = {
    preRun: [], postRun: [], print: void 0, printErr: function (e) {
    }, canvas: function () {
        var e = document.getElementById("gameview");
        return e.addEventListener("webglcontextlost", function (e) {
            alert("WebGL context lost. You will need to reload the page."), e.preventDefault()
        }, !1), e
    }(), setStatus: function (e) {
    }, totalDependencies: 0, monitorRunDependencies: function (e) {
        this.totalDependencies = Math.max(this.totalDependencies, e), Module.setStatus(e ? "Preparing... (" + (this.totalDependencies - e) + "/" + this.totalDependencies + ")" : "All downloads complete.")
    }
};
Module.setStatus("Downloading..."), window.onerror = function (e) {
}
</script>
<script async src=colorsense.js></script>
<script>
    // Register service worker to control making site work offline

    if ('serviceWorker' in navigator) {
        navigator.serviceWorker
            .register('/pwa-examples/a2hs/sw.js')
            .then(function () {
                console.log('Service Worker Registered');
            });
    }

    // Code to handle install prompt on desktop

    let deferredPrompt;
    const addBtn = document.querySelector('.add-button');
    addBtn.style.display = 'none';

    window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        e.preventDefault();
        // Stash the event so it can be triggered later.
        deferredPrompt = e;
        // Update UI to notify the user they can add to home screen
        addBtn.style.display = 'block';

        addBtn.addEventListener('click', (e) => {
            // hide our user interface that shows our A2HS button
            addBtn.style.display = 'none';
            // Show the prompt
            deferredPrompt.prompt();
            // Wait for the user to respond to the prompt
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted the A2HS prompt');
                } else {
                    console.log('User dismissed the A2HS prompt');
                }
                deferredPrompt = null;
            });
        });
    });
</script>
</body>
</html>